\chapter{README}
\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e}{}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e}\index{README@{README}}
Table of Contents.

\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_readme-top}%
\Hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_readme-top}%
 


\begin{DoxyEnumerate}
\item \href{\#about}{\texttt{ About}}  
\item \href{\#getting-started}{\texttt{ Getting Started}} 
\begin{DoxyItemize}
\item \href{\#wiring}{\texttt{ Wiring}} 
\item \href{\#adding-to-project}{\texttt{ Adding to Project}} 
\end{DoxyItemize}
\item \href{\#example}{\texttt{ Example}} 
\item \href{\#documentation}{\texttt{ Documentation}} 
\item \href{\#program-flowcharts}{\texttt{ Program Flowcharts}} 
\begin{DoxyItemize}
\item \href{\#sending-case}{\texttt{ Sending Case}} 
\item \href{\#receiving-case}{\texttt{ Receiving Case}} 
\end{DoxyItemize}
\item \href{\#acknowledgements}{\texttt{ Acknowledgements}} 
\item \href{\#license}{\texttt{ License}} 
\item \href{\#contact}{\texttt{ Contact}} 
\end{DoxyEnumerate}\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md0}{}\doxysubsection{\texorpdfstring{About}{About}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md0}
esp32\+\_\+\+BNO08x is a C++ esp-\/idf v5.\+x component, intended to serve as a driver for both the BNO080 and BNO085 IMUs. ~\newline
 This library is heavy influenced by the Spark\+Fun BNO080 Arduino Library, it is more or less a port. It supports access to all the same data that the \doxylink{class_b_n_o08x}{BNO08x} provides. ~\newline
 Currently, only SPI is supported, there is no plans to support I2C (esp32 has I2C driver silicone bug, leading to unpredictable behavior). ~\newline
 I may implement UART at some point in the future.\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md1}{}\doxysubsection{\texorpdfstring{Getting Started}{Getting Started}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md1}
(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md2}{}\doxysubsubsection{\texorpdfstring{Wiring}{Wiring}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md2}
The default wiring is depicted below, it can be changed at driver initialization (see example section).  

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md3}{}\doxysubsubsection{\texorpdfstring{Adding to Project}{Adding to Project}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md3}

\begin{DoxyEnumerate}
\item Create a "{}components"{} directory in the root workspace directory of your esp-\/idf project if it does not exist already. ~\newline


In workspace directory\+: ~\newline
 
\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir\ components}

\end{DoxyCode}

\item Cd into the components directory and clone the esp32\+\_\+\+BNO08x repo.


\begin{DoxyCode}{0}
\DoxyCodeLine{cd\ components}
\DoxyCodeLine{git\ clone\ https://github.com/myles-\/parfeniuk/esp32\_BNO08x.git}

\end{DoxyCode}

\item Ensure you clean your esp-\/idf project before rebuilding. ~\newline
 Within esp-\/idf enabled terminal\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{idf.py\ fullclean}

\end{DoxyCode}
 
\end{DoxyEnumerate}

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md4}{}\doxysubsubsection{\texorpdfstring{Example}{Example}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md4}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ <stdio.h>}}
\DoxyCodeLine{\textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_b_n_o08x_8hpp}{BNO08x.hpp}}"{}}}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keyword}{extern}\ \textcolor{stringliteral}{"{}C"{}}\ \textcolor{keywordtype}{void}\ app\_main(\textcolor{keywordtype}{void})}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{class_b_n_o08x}{BNO08x}}\ imu;\ \textcolor{comment}{//create\ IMU\ object\ with\ default\ wiring\ scheme}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//if\ a\ custom\ wiring\ scheme\ is\ desired\ instead\ of\ default:}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ \ bno08x\_config\_t\ imu\_config;\ \ \ \ \ //create\ config\ struct}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ \ imu\_config.io\_mosi\ =\ GPIO\_NUM\_X;\ //assign\ pin}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ \ imu\_config.io\_miso\ =\ GPIO\_NUM\_X;\ //assign\ pin}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ \ //etc...}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ \ BNO08x\ imu(imu\_config);\ //pass\ config\ to\ BNO08x\ constructor}}
\DoxyCodeLine{\textcolor{comment}{\ \ \ \ */}}
\DoxyCodeLine{\ \ \ \ }
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ imu.\mbox{\hyperlink{class_b_n_o08x_aea8e2c6dd7a2c9899479a7f39fe94798}{initialize}}();\ \ \textcolor{comment}{//initialize\ IMU}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{comment}{//enable\ gyro\ \&\ game\ rotation\ vector}}
\DoxyCodeLine{\ \ \ \ imu.\mbox{\hyperlink{class_b_n_o08x_abe04c38b5bd52d331bd8aefae1f51947}{enable\_game\_rotation\_vector}}(100000);\ \textcolor{comment}{//100,000us\ ==\ 100ms\ report\ interval}}
\DoxyCodeLine{\ \ \ \ imu.\mbox{\hyperlink{class_b_n_o08x_ad7b322681b9ec5f57edb09e336b988c0}{enable\_gyro}}(150000);\ \textcolor{comment}{//150,000us\ ==\ 150ms\ report\ interval\ }}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordflow}{while}(1)}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{comment}{//print\ absolute\ heading\ in\ degrees\ and\ angular\ velocity\ in\ Rad/s}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(imu.\mbox{\hyperlink{class_b_n_o08x_a367d525d1c0ba119b3dca3067bb5bccc}{data\_available}}())}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGW(\textcolor{stringliteral}{"{}Main"{}},\ \textcolor{stringliteral}{"{}Velocity:\ x:\ \%.3f\ y:\ \%.3f\ z:\ \%.3f"{}},\ imu.\mbox{\hyperlink{class_b_n_o08x_ab7977391191067282e7f734b9ee45059}{get\_gyro\_calibrated\_velocity\_X}}(),\ imu.\mbox{\hyperlink{class_b_n_o08x_ad4fab6e636e239d4b9273f158983ed89}{get\_gyro\_calibrated\_velocity\_Y}}(),\ imu.\mbox{\hyperlink{class_b_n_o08x_a15a29c3bb476048b7229abcfb2b1d52a}{get\_gyro\_calibrated\_velocity\_Z}}());}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ ESP\_LOGI(\textcolor{stringliteral}{"{}Main"{}},\ \textcolor{stringliteral}{"{}Euler\ Angle:\ x\ (roll):\ \%.3f\ y\ (pitch):\ \%.3f\ z\ (yaw):\ \%.3f"{}},\ imu.\mbox{\hyperlink{class_b_n_o08x_a7077b9a130f1dcf0192454e387968dd6}{get\_roll\_deg}}(),\ imu.\mbox{\hyperlink{class_b_n_o08x_af50010400cbd1445e9ddfa259384b412}{get\_pitch\_deg}}(),\ imu.\mbox{\hyperlink{class_b_n_o08x_af80f7795656e695e036d3b1557aed94c}{get\_yaw\_deg}}());}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md5}{}\doxysubsection{\texorpdfstring{Documentation}{Documentation}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md5}
API documentation generated with doxygen can be found in the documentation directory of the master branch. ~\newline
 

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md6}{}\doxysubsection{\texorpdfstring{Program Flowcharts}{Program Flowcharts}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md6}
The following charts illustrate the program flow this library implements for sending and receiving data from \doxylink{class_b_n_o08x}{BNO08x}. ~\newline
 These are here to aid development for anyone looking to modify, fork, or contribute. 

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md7}{}\doxysubsubsection{\texorpdfstring{Receiving Case}{Receiving Case}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md7}
This assumes the user as initialized the imu and has sent a command to enable a report (for ex. enable\+\_\+game\+\_\+rotation\+\_\+vector).  

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md8}{}\doxysubsubsection{\texorpdfstring{Sending Case}{Sending Case}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md8}
 

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md9}{}\doxysubsection{\texorpdfstring{Acknowledgements}{Acknowledgements}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md9}
Special thanks to the original creators of the sparkfun BNO080 library. Developing this without a reference would have been much more time consuming. ~\newline
 \href{https://github.com/sparkfun/SparkFun_BNO080_Arduino_Library}{\texttt{ https\+://github.\+com/sparkfun/\+Spark\+Fun\+\_\+\+BNO080\+\_\+\+Arduino\+\_\+\+Library}} ~\newline


Special thanks to Anton Babiy, aka hw\+Birdy007 for helping with debugging SPI. ~\newline
 \href{https://github.com/hwBirdy007}{\texttt{ https\+://github.\+com/hw\+Birdy007}} ~\newline


(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md10}{}\doxysubsection{\texorpdfstring{License}{License}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md10}
Distributed under the MIT License. See {\ttfamily LICENSE.\+md} for more information. 

(\href{\#readme-top}{\texttt{ back to top}})\hypertarget{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md11}{}\doxysubsection{\texorpdfstring{Contact}{Contact}}\label{md_esp32___b_n_o08x_2_r_e_a_d_m_e_autotoc_md11}
Myles Parfeniuk -\/ \href{mailto:myles.parfenyuk@gmail.com}{\texttt{ myles.\+parfenyuk@gmail.\+com}}

Project Link\+: \href{https://github.com/myles-parfeniuk/esp32_BNO08x.git}{\texttt{ https\+://github.\+com/myles-\/parfeniuk/esp32\+\_\+\+BNO08x.\+git}} 

(\href{\#readme-top}{\texttt{ back to top}})